(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{130:function(e,a,t){"use strict";t.r(a);var c=t(1),n=t(28),s=t.n(n),r=(t(93),t(18)),l=t(17),i=t(10),o=t.n(i),j=t(13),b=t(7),u=function(){return window.localStorage.getItem("token")},d=function(){var e=u();if(!e)return!1;var a=e.split(".");return!(a.length<3)&&JSON.parse(atob(a[1]))},m=function(){var e=d();return!!e&&Math.round(Date.now()/1e3)<e.exp},h=function(){var e=d();if(e)return e.sub},O=function(e){window.localStorage.setItem("token",e)},p=t(136),x=t(12),f=t.n(x),v=t(0),g=function(){var e=Object(c.useState)([]),a=Object(b.a)(e,2),t=a[0],n=a[1],s=Object(c.useState)(!1),r=Object(b.a)(s,2),l=(r[0],r[1]);Object(c.useEffect)((function(){(function(){var e=Object(j.a)(o.a.mark((function e(){var a,t;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,f.a.get("/api/animals/");case 3:a=e.sent,t=a.data,n(t.reverse()),e.next=12;break;case 8:e.prev=8,e.t0=e.catch(0),console.log(e.t0),l(e.t0);case 12:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(){return e.apply(this,arguments)}})()()}),[]);var i=t.filter((function(e){return e.owner.id!==h()}));return console.log("filtered animals",i),Object(v.jsx)("div",{children:m()?Object(v.jsx)(p.a,{children:t&&Object(v.jsx)(v.Fragment,{children:i.map((function(e){p.a.Item,e.animal_image,e.animal_name,p.a.Caption}))})}):Object(v.jsx)("div",{className:"homepage",children:Object(v.jsxs)("div",{className:"homepage-buttons",children:[Object(v.jsx)("a",{href:"/registerborrower",children:Object(v.jsx)("div",{className:"button",children:"Become a borrower"})}),Object(v.jsx)("a",{href:"/registerowner",children:Object(v.jsx)("div",{className:"button",children:"Become an owner"})})]})})})},y=t(11),N=t(2),w=t.p+"static/media/PetPalLogo.c3e821c2.jpg",_=t(16),k=t(62),C=t(3),S=t(37),I=function(){var e=Object(l.f)(),a=Object(l.g)(),t=Object(c.useState)(),n=Object(b.a)(t,2),s=n[0],i=n[1],d=Object(c.useState)(!1),p=Object(b.a)(d,2),x=(p[0],p[1]);Object(c.useEffect)((function(){(function(){var e=Object(j.a)(o.a.mark((function e(){var a,t;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,f.a.get("api/auth/users/".concat(h()),{headers:{Authorization:"Bearer ".concat(u())}});case 3:a=e.sent,t=a.data,i(t),e.next=12;break;case 8:e.prev=8,e.t0=e.catch(0),console.log(e.t0),x(!0);case 12:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(){return e.apply(this,arguments)}})()()}),[a.pathname]);var g=Object(c.useState)(!1),I=Object(b.a)(g,2),L=I[0],G=I[1],A=Object(c.useState)(!1),q=Object(b.a)(A,2),F=q[0],E=q[1],B=Object(c.useState)({email:"",password:""}),D=Object(b.a)(B,2),P=D[0],W=D[1],T=function(e){var a=Object(N.a)(Object(N.a)({},P),{},Object(y.a)({},e.target.name,e.target.value));W(a)},M=function(){E(!1)},R=function(){var a=Object(j.a)(o.a.mark((function a(t){var c,n;return o.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return t.preventDefault(),a.prev=1,a.next=4,f.a.post("/api/auth/login/",P);case 4:c=a.sent,n=c.data,O(n.token),console.log("logged in"),e.push("/profile"),G(!1),console.log("response",n),a.next=17;break;case 13:a.prev=13,a.t0=a.catch(1),console.log(a.t0),E(!0);case 17:case"end":return a.stop()}}),a,null,[[1,13]])})));return function(e){return a.apply(this,arguments)}}(),H=function(){window.localStorage.removeItem("token"),console.log("logging out"),e.push("/")};return Object(v.jsxs)("div",{className:"nav-container",children:[Object(v.jsxs)("div",{className:"navbar",children:[m?Object(v.jsx)("a",{href:"/profile",children:Object(v.jsx)("div",{className:"nav-logo",children:Object(v.jsx)("img",{src:w,alt:"PetPal logo"})})}):Object(v.jsx)("a",{href:"/",children:Object(v.jsx)("div",{className:"nav-logo",children:Object(v.jsx)("img",{src:w,alt:"PetPal logo"})})}),Object(v.jsx)("div",{className:"nav-links",children:m()?Object(v.jsxs)(v.Fragment,{children:[s&&Object(v.jsx)(v.Fragment,{children:"owner"===s.account_type?Object(v.jsx)(r.b,{to:"/borrowers",children:Object(v.jsxs)("h3",{className:"nav-link",children:[Object(v.jsx)("span",{className:"icon",children:Object(v.jsx)("i",{className:"fas fa-user-friends"})}),"Find a borrower"]})}):Object(v.jsx)(r.b,{to:"/animals",children:Object(v.jsxs)("h3",{className:"nav-link",children:[Object(v.jsx)("span",{className:"icon",children:Object(v.jsx)("i",{className:"fas fa-paw"})}),"Find a pet"]})})}),s?Object(v.jsxs)(v.Fragment,{children:[Object(v.jsx)(r.b,{to:"/profile",children:Object(v.jsx)("img",{src:s.profile_picture,alt:s.username})}),Object(v.jsxs)(S.a,{children:[Object(v.jsx)(S.a.Toggle,{variant:"secondary-light",id:"dropdown-basic",children:s.first_name}),Object(v.jsx)(S.a.Menu,{children:"owner"===s.account_type?Object(v.jsxs)(v.Fragment,{children:[Object(v.jsx)(S.a.Item,{href:"/requests",children:"My requests"}),Object(v.jsx)(S.a.Item,{href:"/profile",children:"My profile"}),Object(v.jsx)(S.a.Item,{href:"/pet-profile",children:"Pet profile"}),Object(v.jsx)(S.a.Item,{onClick:H,children:"Log out"})]}):Object(v.jsxs)(v.Fragment,{children:[Object(v.jsx)(S.a.Item,{href:"/profile",children:"My profile"}),Object(v.jsx)(S.a.Item,{onClick:H,children:"Log out"})]})})]})]}):Object(v.jsx)("div",{})]}):Object(v.jsxs)(v.Fragment,{children:[Object(v.jsx)(_.a,{variant:"secondary",onClick:function(){return G(!0)},children:"Login"}),Object(v.jsxs)(k.a,{show:L,onHide:function(){return G(!1)},placement:"end",children:[Object(v.jsx)(k.a.Header,{closeButton:!0,children:Object(v.jsx)(k.a.Title,{children:"Login"})}),Object(v.jsx)(k.a.Body,{children:Object(v.jsxs)(C.a,{onSubmit:R,children:[Object(v.jsxs)(C.a.Group,{className:"mb-3",controlId:"formBasicEmail",children:[Object(v.jsx)(C.a.Label,{children:"Email address"}),Object(v.jsx)(C.a.Control,{name:"email",type:"email",placeholder:"user@email.com",value:P.email,onChange:T,onFocus:M})]}),Object(v.jsxs)(C.a.Group,{className:"mb-3",controlId:"formBasicPassword",children:[Object(v.jsx)(C.a.Label,{children:"Password"}),Object(v.jsx)(C.a.Control,{name:"password",type:"password",placeholder:"password",value:P.password,onChange:T,nFocus:M})]}),F&&Object(v.jsx)("p",{className:"help is-danger",children:"Sorry your username or password are incorrect"}),Object(v.jsx)(_.a,{variant:"secondary",type:"submit",children:"Login"})]})})]})]})})]}),Object(v.jsx)("hr",{})]})},L=t(20),G=function(e){var a=e.handleImageUrl,t=e.value,c=function(){var e=Object(j.a)(o.a.mark((function e(t){var c,n;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(c=new FormData).append("file",t.target.files[0]),c.append("upload_preset","bqnq9fa1"),console.log("data -> ",c),e.next=6,f.a.post("https://api.cloudinary.com/v1_1/dkgxxaoqn/image/upload",c);case 6:n=e.sent,console.log("response",n),a(n.data.url);case 9:case"end":return e.stop()}}),e)})));return function(a){return e.apply(this,arguments)}}();return Object(v.jsx)(v.Fragment,{children:t?Object(v.jsx)("div",{children:Object(v.jsx)("img",{src:t,alt:"profile image upload"})}):Object(v.jsxs)(v.Fragment,{children:[Object(v.jsx)("label",{children:"Upload a profile image: "}),Object(v.jsx)("input",{className:"input",type:"file",onChange:c})]})})},A=t(31),q=t(24),F=t(23),E=[{value:2,label:"Company"},{value:3,label:"Exercise"},{value:1,label:"Playtime"}],B=[{value:1,label:"Weekday - daytimes"},{value:2,label:"Weekday - evenings"},{value:3,label:"Weekends"},{value:4,label:"Holidays or overnight stays"}],D=function(){var e=Object(l.f)(),a=Object(c.useState)({email:"",username:"",first_name:"",last_name:"",account_type:"borrower",bio:"",activity:[],schedule:[],password:"",password_confirmation:"",profile_picture:""}),t=Object(b.a)(a,2),n=t[0],s=t[1],r=Object(c.useState)({email:"",password:""}),i=Object(b.a)(r,2),u=i[0],d=i[1],m=Object(c.useState)({email:"",username:"",first_name:"",last_name:"",account_type:"",bio:"",activity:[],schedule:[],password:"",password_confirmation:"",profile_picture:""}),h=Object(b.a)(m,2),p=h[0],x=h[1],g=function(e){var a=Object(N.a)(Object(N.a)({},n),{},Object(y.a)({},e.target.name,e.target.value)),t=Object(N.a)(Object(N.a)({},p),{},Object(y.a)({},e.target.name,""));if(console.log("new form data",a),s(a),x(t),"email"===e.target.name||"password"===e.target.name){var c=Object(N.a)(Object(N.a)({},u),{},Object(y.a)({},e.target.name,e.target.value));console.log("new",c),d(c)}},w=function(){var a=Object(j.a)(o.a.mark((function a(t){var c,s;return o.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return t.preventDefault(),a.prev=1,console.log("formData->",n),a.next=5,f.a.post("/api/auth/register/",n);case 5:return a.next=7,f.a.post("/api/auth/login/",u);case 7:c=a.sent,s=c.data,O(s.token),e.push("/animals"),a.next=17;break;case 13:a.prev=13,a.t0=a.catch(1),console.log("err.response",a.t0.response),x(a.t0.response.data.errors);case 17:case"end":return a.stop()}}),a,null,[[1,13]])})));return function(e){return a.apply(this,arguments)}}(),k=function(e,a){console.log("selected",e),console.log("name",a);var t=e?e.map((function(e){return e.value})):[];s(Object(N.a)(Object(N.a)({},n),{},Object(y.a)({},a,Object(L.a)(t))))};return console.log("formdata",n),console.log("loginformdata",u),Object(v.jsxs)("div",{className:"login-register-form",children:[Object(v.jsx)("h2",{children:"I am a Borrower"}),Object(v.jsxs)(C.a,{onSubmit:w,children:[Object(v.jsxs)(C.a.Group,{className:"mb-3",controlId:"formEmail",children:[Object(v.jsx)(C.a.Label,{children:"What is your email address?"}),Object(v.jsx)(C.a.Control,{type:"email",placeholder:"email@email.com",name:"email",onChange:g,value:n.email})]}),Object(v.jsxs)(C.a.Group,{className:"mb-3",controlId:"formUsername",children:[Object(v.jsx)(C.a.Label,{children:"Choose a username"}),Object(v.jsx)(C.a.Control,{type:"text",placeholder:"username",name:"username",onChange:g,value:n.username})]}),Object(v.jsxs)(q.a,{children:[Object(v.jsx)(F.a,{children:Object(v.jsxs)(C.a.Group,{className:"mb-3",controlId:"formFirstName",children:[Object(v.jsx)(C.a.Label,{children:"Your first name"}),Object(v.jsx)(C.a.Control,{type:"text",placeholder:"Jane",name:"first_name",onChange:g,value:n.first_name})]})}),Object(v.jsx)(F.a,{children:Object(v.jsxs)(C.a.Group,{className:"mb-3",controlId:"formLastName",children:[Object(v.jsx)(C.a.Label,{children:"Your last name"}),Object(v.jsx)(C.a.Control,{type:"text",placeholder:"Doe",name:"last_name",onChange:g,value:n.last_name})]})})]}),Object(v.jsxs)(C.a.Group,{className:"mb-3",controlId:"formBioName",children:[Object(v.jsx)(C.a.Label,{children:"Tell us about yourself"}),Object(v.jsx)(C.a.Control,{as:"textarea",placeholder:"I love cats...",name:"bio",onChange:g,value:n.bio})]}),Object(v.jsxs)(C.a.Group,{className:"mb-3",controlId:"formActivity",children:[Object(v.jsx)(C.a.Label,{children:"Activities"}),Object(v.jsx)(A.a,{options:E,isMulti:!0,name:"activity",onChange:function(e){return k(e,"activity")}})]}),Object(v.jsxs)(C.a.Group,{className:"mb-3",controlId:"formSchedule",children:[Object(v.jsx)(C.a.Label,{children:"Schedule"}),Object(v.jsx)(A.a,{options:B,isMulti:!0,name:"schedule",onChange:function(e){return k(e,"schedule")}})]}),Object(v.jsxs)(C.a.Group,{className:"mb-3",controlId:"formPassword",children:[Object(v.jsx)(C.a.Label,{children:"Choose a password"}),Object(v.jsx)(C.a.Control,{type:"password",placeholder:"password",name:"password",onChange:g,value:n.password})]}),Object(v.jsxs)(C.a.Group,{className:"mb-3",controlId:"formPasswordConfirmation",children:[Object(v.jsx)(C.a.Label,{children:"Please confirm your password"}),Object(v.jsx)(C.a.Control,{type:"password",placeholder:"password",name:"password_confirmation",onChange:g,value:n.password_confirmation})]}),Object(v.jsx)(G,{value:FormData.profile_pictue,name:"profile_picture",handleImageUrl:function(e){s(Object(N.a)(Object(N.a)({},n),{},{profile_picture:e}))}}),Object(v.jsx)(_.a,{variant:"secondary",type:"submit",children:"Submit"})]})]})},P=[{value:2,label:"Company"},{value:3,label:"Exercise"},{value:1,label:"Playtime"}],W=[{value:1,label:"Weekday - daytimes"},{value:2,label:"Weekday - evenings"},{value:3,label:"Weekends"},{value:4,label:"Holidays or overnight stays"}],T=function(){var e=Object(l.f)(),a=Object(c.useState)({email:"",username:"",first_name:"",last_name:"",account_type:"owner",bio:"",activity:[],schedule:[],password:"",password_confirmation:"",profile_picture:""}),t=Object(b.a)(a,2),n=t[0],s=t[1],r=Object(c.useState)({email:"",password:""}),i=Object(b.a)(r,2),u=i[0],d=i[1],m=Object(c.useState)({email:"",username:"",first_name:"",last_name:"",account_type:"",bio:"",activity:[],schedule:[],password:"",password_confirmation:"",profile_picture:""}),h=Object(b.a)(m,2),p=h[0],x=h[1],g=function(e){var a=Object(N.a)(Object(N.a)({},n),{},Object(y.a)({},e.target.name,e.target.value)),t=Object(N.a)(Object(N.a)({},p),{},Object(y.a)({},e.target.name,""));if(console.log("new form data",a),s(a),x(t),"email"===e.target.name||"password"===e.target.name){var c=Object(N.a)(Object(N.a)({},u),{},Object(y.a)({},e.target.name,e.target.value));console.log("new",c),d(c)}},w=function(){var a=Object(j.a)(o.a.mark((function a(t){var c,s;return o.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return t.preventDefault(),a.prev=1,console.log("formData->",n),a.next=5,f.a.post("/api/auth/register/",n);case 5:return a.next=7,f.a.post("/api/auth/login/",u);case 7:c=a.sent,s=c.data,O(s.token),e.push("/register-animal"),a.next=17;break;case 13:a.prev=13,a.t0=a.catch(1),console.log("err.response",a.t0.response),x(a.t0.response.data.errors);case 17:case"end":return a.stop()}}),a,null,[[1,13]])})));return function(e){return a.apply(this,arguments)}}(),k=function(e,a){console.log("selected",e),console.log("name",a);var t=e?e.map((function(e){return e.value})):[];s(Object(N.a)(Object(N.a)({},n),{},Object(y.a)({},a,Object(L.a)(t))))};return console.log("formdata",n),Object(v.jsxs)("div",{className:"login-register-form",children:[Object(v.jsx)("h2",{children:"I am an Owner"}),Object(v.jsxs)(C.a,{onSubmit:w,children:[Object(v.jsxs)(C.a.Group,{className:"mb-3",controlId:"formEmail",children:[Object(v.jsx)(C.a.Label,{children:"What is your email address?"}),Object(v.jsx)(C.a.Control,{type:"email",placeholder:"email@email.com",name:"email",onChange:g,value:n.email})]}),Object(v.jsxs)(C.a.Group,{className:"mb-3",controlId:"formUsername",children:[Object(v.jsx)(C.a.Label,{children:"Choose a username"}),Object(v.jsx)(C.a.Control,{type:"text",placeholder:"username",name:"username",onChange:g,value:n.username})]}),Object(v.jsxs)(q.a,{children:[Object(v.jsx)(F.a,{children:Object(v.jsxs)(C.a.Group,{className:"mb-3",controlId:"formFirstName",children:[Object(v.jsx)(C.a.Label,{children:"Your first name"}),Object(v.jsx)(C.a.Control,{type:"text",placeholder:"Jane",name:"first_name",onChange:g,value:n.first_name})]})}),Object(v.jsx)(F.a,{children:Object(v.jsxs)(C.a.Group,{className:"mb-3",controlId:"formLastName",children:[Object(v.jsx)(C.a.Label,{children:"Your last name"}),Object(v.jsx)(C.a.Control,{type:"text",placeholder:"Doe",name:"last_name",onChange:g,value:n.last_name})]})})]}),Object(v.jsxs)(C.a.Group,{className:"mb-3",controlId:"formBioName",children:[Object(v.jsx)(C.a.Label,{children:"Tell us about yourself"}),Object(v.jsx)(C.a.Control,{as:"textarea",placeholder:"I love cats...",name:"bio",onChange:g,value:n.bio})]}),Object(v.jsxs)(C.a.Group,{className:"mb-3",controlId:"formActivity",children:[Object(v.jsx)(C.a.Label,{children:"Activities"}),Object(v.jsx)(A.a,{options:P,isMulti:!0,name:"activity",onChange:function(e){return k(e,"activity")}})]}),Object(v.jsxs)(C.a.Group,{className:"mb-3",controlId:"formSchedule",children:[Object(v.jsx)(C.a.Label,{children:"Schedule"}),Object(v.jsx)(A.a,{options:W,isMulti:!0,name:"schedule",onChange:function(e){return k(e,"schedule")}})]}),Object(v.jsxs)(C.a.Group,{className:"mb-3",controlId:"formPassword",children:[Object(v.jsx)(C.a.Label,{children:"Choose a password"}),Object(v.jsx)(C.a.Control,{type:"password",placeholder:"password",name:"password",onChange:g,value:n.password})]}),Object(v.jsxs)(C.a.Group,{className:"mb-3",controlId:"formPasswordConfirmation",children:[Object(v.jsx)(C.a.Label,{children:"Please confirm your password"}),Object(v.jsx)(C.a.Control,{type:"password",placeholder:"password",name:"password_confirmation",onChange:g,value:n.password_confirmation})]}),Object(v.jsx)(G,{value:FormData.profile_pictue,name:"profile_picture",handleImageUrl:function(e){s(Object(N.a)(Object(N.a)({},n),{},{profile_picture:e}))}}),Object(v.jsx)(_.a,{variant:"secondary",type:"submit",children:"Submit"})]})]})},M=t(35),R=t(26),H=function(e){var a=e.id,t=e.animal_image,c=e.animal_name,n=e.animal_type;e.animal_bio,e.owner,e.schedule,e.activity;return Object(v.jsx)(R.a,{style:{width:"19rem"},children:Object(v.jsxs)(r.b,{to:"/animals/".concat(a),children:[Object(v.jsx)(R.a.Img,{src:t,alt:c}),Object(v.jsx)(R.a.Title,{children:c}),Object(v.jsx)(R.a.Text,{children:n})]})})},z=function(){var e=Object(c.useState)([]),a=Object(b.a)(e,2),t=a[0],n=a[1],s=Object(c.useState)(!1),r=Object(b.a)(s,2),l=r[0],i=r[1],u=Object(c.useState)(null),d=Object(b.a)(u,2),m=d[0],h=d[1],O=Object(c.useState)([]),p=Object(b.a)(O,2),x=p[0],g=p[1],y=Object(c.useState)([]),w=Object(b.a)(y,2),_=w[0],k=w[1],S=Object(c.useState)([]),I=Object(b.a)(S,2),G=I[0],A=I[1];Object(c.useEffect)((function(){(function(){var e=Object(j.a)(o.a.mark((function e(){var a,t;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,f.a.get("/api/animals/");case 3:a=e.sent,t=a.data,n(t.reverse()),console.log("DATA",t),e.next=13;break;case 9:e.prev=9,e.t0=e.catch(0),console.log(e.t0),i(e.t0);case 13:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(){return e.apply(this,arguments)}})()()}),[]),Object(c.useEffect)((function(){var e=x.length?t.filter((function(e){return x.some((function(a){return e.animal_type===a}))})):t,a=_.length?e.filter((function(e){return _.some((function(a){return e.activity.some((function(e){return e.name===a}))}))})):e,c=G.length?a.filter((function(e){return G.some((function(a){return e.schedule.some((function(e){return e.name===a}))}))})):a;h(c)}),[x,_,G,t]);var E=function(e){return x.includes(e.target.value)?g(Object(L.a)(x.filter((function(a){return a!==e.target.value})))):g([].concat(Object(L.a)(x),[e.target.value]))},B=function(e){return _.includes(e.target.value)?k(Object(L.a)(_.filter((function(a){return a!==e.target.value})))):k([].concat(Object(L.a)(_),[e.target.value]))},D=function(e){return G.includes(e.target.value)?A(Object(L.a)(G.filter((function(a){return a!==e.target.value})))):A([].concat(Object(L.a)(G),[e.target.value]))};return Object(v.jsx)(M.a,{className:"animal-index",children:Object(v.jsxs)(q.a,{children:[Object(v.jsxs)(F.a,{className:"sort",children:[Object(v.jsx)("h4",{children:"Filter"}),Object(v.jsx)("hr",{}),Object(v.jsxs)(C.a,{id:"form",children:[Object(v.jsxs)(C.a.Group,{children:[Object(v.jsxs)(C.a.Label,{children:[Object(v.jsx)("span",{className:"icon",children:Object(v.jsx)("i",{className:"fas fa-cat"})}),"Pet type"]}),["Cat","Dog","Rabbit"].map((function(e){return Object(v.jsx)("div",{children:Object(v.jsx)(C.a.Check,{type:"checkbox",id:"".concat(e),label:"".concat(e),name:"type",value:"".concat(e),onChange:E})},"".concat(e))}))]}),Object(v.jsx)("hr",{}),Object(v.jsxs)(C.a.Group,{children:[Object(v.jsxs)(C.a.Label,{children:[Object(v.jsx)("span",{className:"icon",children:Object(v.jsx)("i",{className:"fas fa-bullhorn"})}),"Activities"]}),["exercise","company","playtime"].map((function(e){return Object(v.jsx)("div",{children:Object(v.jsx)(C.a.Check,{type:"checkbox",id:"".concat(e),name:"activity",label:"".concat(e),value:"".concat(e),onChange:B})},"".concat(e))}))]}),Object(v.jsx)("hr",{}),Object(v.jsxs)(C.a.Group,{children:[Object(v.jsxs)(C.a.Label,{children:[Object(v.jsx)("span",{className:"icon",children:Object(v.jsx)("i",{className:"fas fa-calendar-alt"})}),"Availability"]}),["weekday - daytimes","weekday - evenings","weekends","holidays or overnight stays"].map((function(e){return Object(v.jsx)("div",{children:Object(v.jsx)(C.a.Check,{type:"checkbox",id:"".concat(e),label:"".concat(e),name:"schedule",value:"".concat(e),onChange:D})},"".concat(e))}))]})]})]}),Object(v.jsxs)(F.a,{xs:10,className:"right",children:[Object(v.jsx)(q.a,{children:Object(v.jsxs)("h5",{children:[(m||t).length," pets found"]})}),t?Object(v.jsx)(q.a,{children:(m||t).map((function(e){return Object(v.jsx)(H,Object(N.a)({},e),e.id)}))}):Object(v.jsx)("h2",{children:l?"Something has gone wrong!":"loading... \ud83d\udc08 \ud83e\uddae \ud83d\udc07"})]})]})})},U=t(61),Y=function(e){var a=e.id,t=e.name,n=e.handleClose,s=Object(c.useState)({request_status:"pending",message:"",animal:a}),r=Object(b.a)(s,2),l=r[0],i=r[1];console.log("formdata",l);var d=function(){var e=Object(j.a)(o.a.mark((function e(a){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a.preventDefault(),e.prev=1,console.log("formData->",l),e.next=5,f.a.post("/api/requests/",l,{headers:{Authorization:"Bearer ".concat(u())}});case 5:console.log("submitted"),n(),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(1),console.log("err",e.t0.response);case 12:case"end":return e.stop()}}),e,null,[[1,9]])})));return function(a){return e.apply(this,arguments)}}();return Object(v.jsx)(v.Fragment,{children:Object(v.jsxs)(C.a,{onSubmit:d,children:[Object(v.jsxs)(C.a.Group,{className:"mb-3",controlId:"formMessage",children:[Object(v.jsx)(C.a.Label,{children:"Add a message to your request: "}),Object(v.jsx)(C.a.Control,{type:"textarea",name:"message",placeholder:"Please could I play with ".concat(t," on Tuesday?"),onChange:function(e){var a=Object(N.a)(Object(N.a)({},l),{},Object(y.a)({},e.target.name,e.target.value));console.log("new form data",a),i(a)},value:l.message})]}),Object(v.jsx)(_.a,{variant:"secondary",type:"submit",children:"Send Request"})]})})},J=function(){var e=Object(c.useState)(null),a=Object(b.a)(e,2),t=a[0],n=a[1],s=Object(c.useState)(!1),r=Object(b.a)(s,2),i=r[0],u=r[1],d=Object(c.useState)(null),m=Object(b.a)(d,2),O=m[0],p=m[1],x=Object(c.useState)(null),g=Object(b.a)(x,2),y=g[0],N=g[1],w=Object(c.useState)(!1),k=Object(b.a)(w,2),C=k[0],S=k[1],I=Object(c.useState)(),L=Object(b.a)(I,2),G=(L[0],L[1]),A=Object(c.useState)(!1),q=Object(b.a)(A,2),F=(q[0],q[1]),E=Object(l.h)().id,B=function(){return S(!1)};console.log(E),Object(c.useEffect)((function(){(function(){var e=Object(j.a)(o.a.mark((function e(){var a,t,c,s;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,f.a.get("/api/animals/".concat(E,"/"));case 3:a=e.sent,t=a.data,n(t),console.log("data",t),(c=t.requests.filter((function(e){return e.owner.id===h()}))).length<1?p("none"):p(c),s=c.map((function(e){return e.request_status})),console.log(s),e.next=18;break;case 13:e.prev=13,e.t0=e.catch(0),console.log(e.t0),u(!0),N(!0);case 18:case"end":return e.stop()}}),e,null,[[0,13]])})));return function(){return e.apply(this,arguments)}})()()}),[E,O]);return console.log("requests",O),Object(c.useEffect)((function(){(function(){var e=Object(j.a)(o.a.mark((function e(){var a,t;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,f.a.get("api/auth/users/".concat(h()),{headers:{Authorization:"Bearer ".concat(getTokenFromLocalStorage())}});case 3:a=e.sent,t=a.data,G(t),e.next=12;break;case 8:e.prev=8,e.t0=e.catch(0),console.log(e.t0),F(!0);case 12:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(){return e.apply(this,arguments)}})()()}),[location.pathname]),Object(v.jsx)(M.a,{className:"animal-show",children:t?Object(v.jsxs)("div",{className:"animal-card",children:[Object(v.jsx)("div",{className:"left-side",children:Object(v.jsx)(R.a.Img,{src:t.animal_image})}),Object(v.jsxs)("div",{className:"right-side",children:[Object(v.jsx)("h3",{children:t.animal_name}),Object(v.jsx)("hr",{}),Object(v.jsxs)("div",{className:"information",children:[t.animal_bio,Object(v.jsx)("hr",{}),Object(v.jsxs)("div",{className:"data",children:[Object(v.jsx)("div",{className:"info",children:Object(v.jsxs)("p",{children:[Object(v.jsx)("span",{className:"icon",children:Object(v.jsx)("i",{className:"fas fa-paw"})}),t.animal_type]})}),Object(v.jsx)("div",{className:"info",children:Object(v.jsxs)("p",{children:[Object(v.jsx)("span",{className:"icon",children:Object(v.jsx)("i",{className:"fas fa-bone"})}),t.animal_age," years old"]})}),Object(v.jsxs)("div",{className:"info",children:[Object(v.jsxs)("p",{children:[Object(v.jsx)("span",{className:"icon",children:Object(v.jsx)("i",{className:"fas fa-bullhorn"})}),t.animal_name," needs: "]}),t.activity.map((function(e,a){return Object(v.jsx)("div",{className:"activity",children:e.name},a)}))]}),Object(v.jsxs)("div",{className:"info",children:[Object(v.jsxs)("p",{children:[Object(v.jsx)("span",{className:"icon",children:Object(v.jsx)("i",{className:"fas fa-calendar-alt"})}),"Available on:"]}),t.schedule.map((function(e,a){return Object(v.jsx)("div",{className:"schedule",children:e.name},a)}))]})]}),Object(v.jsx)("hr",{}),Object(v.jsxs)("div",{className:"request",children:[Object(v.jsxs)("div",{className:"owner",children:[Object(v.jsx)("img",{className:"profile-image",src:t.owner.profile_picture,alt:t.owner.username}),"Owned by ",t.owner.first_name]}),"none"!==O?Object(v.jsx)(v.Fragment,{children:O&&Object(v.jsxs)("div",{className:"req-status",children:[Object(v.jsx)("span",{className:"icon",children:Object(v.jsx)("i",{className:"fas fa-paper-plane"})}),"Request ",O.map((function(e){return e.request_status}))]})}):Object(v.jsxs)(_.a,{variant:"secondary",onClick:function(){S(!0)},children:["Send ",t.owner.first_name," a request"]})]})]})]}),Object(v.jsxs)(U.a,{show:C,onHide:B,children:[Object(v.jsx)(U.a.Header,{closeButton:!0,children:Object(v.jsxs)(U.a.Title,{children:["Send a request to ",t.owner.first_name]})}),Object(v.jsx)(U.a.Body,{children:Object(v.jsx)(Y,{id:t.id,name:t.animal_name,handleClose:B})})]})]}):Object(v.jsx)("h2",{children:i||y?"Something has gone wrong!":"loading... \ud83d\udc08 \ud83e\uddae \ud83d\udc07"})})},K=function(e){var a=e.id,t=e.profile_picture,c=e.first_name,n=e.username,s=e.bio,r=(e.schedule,e.activity,Object(l.f)());return Object(v.jsx)(R.a,{style:{width:"60rem"},children:Object(v.jsxs)("div",{className:"big-card",children:[Object(v.jsx)(R.a.Img,{src:t,alt:n}),Object(v.jsxs)("div",{className:"information",children:[Object(v.jsx)(R.a.Title,{children:c}),Object(v.jsx)(R.a.Text,{children:s}),Object(v.jsx)(_.a,{variant:"secondary",onClick:function(){console.log("clicked"),r.push("/borrowers/".concat(a))},children:"View profile"})]})]})})},V=function(){var e=Object(c.useState)([]),a=Object(b.a)(e,2),t=a[0],n=a[1],s=Object(c.useState)(!1),r=Object(b.a)(s,2),l=r[0],i=r[1],u=Object(c.useState)(null),d=Object(b.a)(u,2),m=d[0],O=d[1],p=Object(c.useState)([]),x=Object(b.a)(p,2),g=x[0],y=x[1];Object(c.useEffect)((function(){(function(){var e=Object(j.a)(o.a.mark((function e(){var a,t;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,f.a.get("/api/auth/users/");case 3:a=e.sent,t=a.data,n(t),e.next=12;break;case 8:e.prev=8,e.t0=e.catch(0),console.log(e.t0),i(e.t0);case 12:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(){return e.apply(this,arguments)}})()()}),[]);var w=t.filter((function(e){return"borrower"===e.account_type&&e.id!==h()})).reverse();console.log(w),Object(c.useEffect)((function(){var e=g.length?w.filter((function(e){return g.some((function(a){return e.schedule.some((function(e){return e.name===a}))}))})):w;O(e)}),[g,w]);var _=function(e){return g.includes(e.target.value)?y(Object(L.a)(g.filter((function(a){return a!==e.target.value})))):y([].concat(Object(L.a)(g),[e.target.value]))};return Object(v.jsx)(M.a,{className:"user-index",children:Object(v.jsxs)(q.a,{children:[Object(v.jsxs)(F.a,{className:"sort",children:[Object(v.jsx)("h4",{children:"Filter"}),Object(v.jsx)("hr",{}),Object(v.jsx)(C.a,{children:Object(v.jsxs)(C.a.Group,{children:[Object(v.jsxs)(C.a.Label,{children:[Object(v.jsx)("span",{className:"icon",children:Object(v.jsx)("i",{className:"fas fa-calendar-alt"})}),"Availability"]}),["weekday - daytimes","weekday - evenings","weekends","holidays or overnight stays"].map((function(e){return Object(v.jsx)("div",{children:Object(v.jsx)(C.a.Check,{type:"checkbox",id:"".concat(e),label:"".concat(e),name:"schedule",value:"".concat(e),onChange:_})},"".concat(e))}))]})})]}),Object(v.jsxs)(F.a,{className:"right",children:[Object(v.jsx)(q.a,{children:Object(v.jsxs)("h5",{children:[(m||w).length," borrowers found"]})}),w?Object(v.jsx)(q.a,{children:(m||w).map((function(e){return Object(v.jsx)(K,Object(N.a)({},e),e.id)}))}):Object(v.jsx)("h2",{children:l?"Something has gone wrong!":"loading... \ud83d\udc08 \ud83e\uddae \ud83d\udc07"})]})]})})},Q=function(){var e=Object(c.useState)(null),a=Object(b.a)(e,2),t=a[0],n=a[1],s=Object(c.useState)(!1),r=Object(b.a)(s,2),i=r[0],u=r[1],d=Object(l.h)().id;return console.log(d),Object(c.useEffect)((function(){(function(){var e=Object(j.a)(o.a.mark((function e(){var a,t;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,f.a.get("/api/auth/users/".concat(d,"/"));case 3:a=e.sent,t=a.data,n(t),console.log("data",t),e.next=13;break;case 9:e.prev=9,e.t0=e.catch(0),console.log(e.t0),u(!0);case 13:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(){return e.apply(this,arguments)}})()()}),[d]),console.log("user data",t),Object(v.jsx)(M.a,{className:"user-show",children:t?Object(v.jsxs)("div",{className:"user-card",children:[Object(v.jsx)("div",{className:"left-side",children:Object(v.jsx)(R.a.Img,{src:t.profile_picture})}),Object(v.jsxs)("div",{className:"right-side",children:[Object(v.jsx)("h3",{children:t.first_name}),Object(v.jsx)("hr",{}),Object(v.jsxs)("div",{className:"information",children:[t.bio,Object(v.jsx)("hr",{}),Object(v.jsxs)("div",{className:"data",children:[Object(v.jsx)("p",{children:"Can give"}),t.activity.map((function(e){return Object(v.jsx)("div",{className:"activity",children:Object(v.jsx)("p",{children:e.name})},e.id)}))]}),Object(v.jsxs)("div",{className:"data",children:[Object(v.jsx)("p",{children:"Available on"}),t.schedule.map((function(e){return Object(v.jsx)("div",{className:"schedule",children:Object(v.jsx)("p",{children:e.name})},e.id)}))]}),Object(v.jsx)("hr",{})]})]})]}):Object(v.jsx)("h2",{children:i?"Something has gone wrong!":"loading... \ud83d\udc08 \ud83e\uddae \ud83d\udc07"})})},X=[{value:2,label:"Company"},{value:3,label:"Exercise"},{value:1,label:"Playtime"}],Z=[{value:1,label:"Weekday - daytimes"},{value:2,label:"Weekday - evenings"},{value:3,label:"Weekends"},{value:4,label:"Holidays or overnight stays"}],$=function(){var e=Object(l.f)(),a=Object(c.useState)({animal_name:"",animal_type:"",animal_bio:"",animal_age:"",activity:[],schedule:[],animal_image:""}),t=Object(b.a)(a,2),n=t[0],s=t[1],r=function(e){var a=Object(N.a)(Object(N.a)({},n),{},Object(y.a)({},e.target.name,e.target.value));console.log("new form data",a),s(a)},i=function(e,a){console.log("selected",e),console.log("name",a);var t=e?e.map((function(e){return e.value})):[];s(Object(N.a)(Object(N.a)({},n),{},Object(y.a)({},a,Object(L.a)(t))))};console.log("formdata",n),console.log("token",u());var d=function(){var a=Object(j.a)(o.a.mark((function a(t){return o.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return t.preventDefault(),a.prev=1,console.log("formData->",n),a.next=5,f.a.post("/api/animals/",n,{headers:{Authorization:"Bearer ".concat(u())}});case 5:e.push("/borrowers"),a.next=11;break;case 8:a.prev=8,a.t0=a.catch(1),console.log("err",a.t0);case 11:case"end":return a.stop()}}),a,null,[[1,8]])})));return function(e){return a.apply(this,arguments)}}();return Object(v.jsx)("div",{className:"register-animal",children:Object(v.jsxs)(C.a,{onSubmit:d,children:[Object(v.jsx)("h2",{children:"Register animal"}),Object(v.jsxs)(C.a.Group,{className:"mb-3",controlId:"formAnimalName",children:[Object(v.jsx)(C.a.Label,{children:"What is your pet called?"}),Object(v.jsx)(C.a.Control,{type:"text",placeholder:"Rex",name:"animal_name",onChange:r,value:n.animal_name})]}),Object(v.jsxs)(C.a.Group,{className:"mb-3",controlId:"formAnimalType",children:[Object(v.jsx)(C.a.Label,{children:"How old is your pet?"}),Object(v.jsx)(C.a.Control,{type:"integer",placeholder:"0",name:"animal_age",onChange:r,value:n.animal_age})]}),Object(v.jsxs)(C.a.Group,{className:"mb-3",controlId:"formAnimalType",children:[Object(v.jsx)(C.a.Label,{children:"What type of animal is your pet?"}),Object(v.jsxs)(C.a.Select,{onChange:r,name:"animal_type",children:[Object(v.jsx)("option",{children:" - select an animal - "}),Object(v.jsx)("option",{value:"cat",children:"Cat"}),Object(v.jsx)("option",{value:"dog",children:"Dog"}),Object(v.jsx)("option",{value:"rabbit",children:"Rabbit"})]})]}),Object(v.jsxs)(C.a.Group,{className:"mb-3",controlId:"formBioName",children:[Object(v.jsx)(C.a.Label,{children:"Tell us about your pet"}),Object(v.jsx)(C.a.Control,{as:"textarea",placeholder:"Fido loves barking and chasing sticks",name:"animal_bio",onChange:r,value:n.animal_bio})]}),Object(v.jsxs)(C.a.Group,{className:"mb-3",controlId:"formActivity",children:[Object(v.jsx)(C.a.Label,{children:"What activities does your pet need?"}),Object(v.jsx)(A.a,{options:X,isMulti:!0,name:"activity",onChange:function(e){return i(e,"activity")}})]}),Object(v.jsxs)(C.a.Group,{className:"mb-3",controlId:"formSchedule",children:[Object(v.jsx)(C.a.Label,{children:"When is your pet available?"}),Object(v.jsx)(A.a,{options:Z,isMulti:!0,name:"schedule",onChange:function(e){return i(e,"schedule")}})]}),Object(v.jsx)(G,{value:FormData.animal_image,name:"animal_image",handleImageUrl:function(e){s(Object(N.a)(Object(N.a)({},n),{},{animal_image:e}))}}),Object(v.jsx)(_.a,{variant:"secondary",type:"submit",children:"Submit"})]})})},ee=function(){var e=Object(c.useState)(null),a=Object(b.a)(e,2),t=a[0],n=a[1],s=Object(c.useState)(!1),i=Object(b.a)(s,2),m=i[0],h=i[1],O=Object(l.f)();Object(c.useEffect)((function(){(function(){var e=Object(j.a)(o.a.mark((function e(){var a,t,c,s;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,a=d()){e.next=4;break}return e.abrupt("return");case 4:return t=a.sub,e.next=7,f.a.get("api/auth/users/".concat(t,"/"),{headers:{Authorization:"Bearer ".concat(u())}});case 7:c=e.sent,s=c.data,n(s),console.log("data",s),e.next=17;break;case 13:e.prev=13,e.t0=e.catch(0),console.log(e.t0),h(!0);case 17:case"end":return e.stop()}}),e,null,[[0,13]])})));return function(){return e.apply(this,arguments)}})()()}),[]);return console.log("userprofile",t),Object(v.jsx)("div",{className:"user-profile",children:t?Object(v.jsxs)(v.Fragment,{children:[Object(v.jsxs)("div",{className:"top",children:[Object(v.jsx)("div",{className:"profile-images",children:Object(v.jsx)("img",{src:t.profile_picture,alt:t.username})}),Object(v.jsxs)("div",{className:"information",children:[Object(v.jsx)("div",{className:"info-header",children:Object(v.jsxs)("h3",{children:["Welcome back, ",t.first_name]})}),Object(v.jsx)("hr",{}),Object(v.jsxs)("div",{className:"date-joined",children:["owner"===t.account_type?Object(v.jsxs)(_.a,{variant:"secondary",onClick:function(){O.push("/register-animal")},children:[Object(v.jsx)("span",{className:"icon",children:Object(v.jsx)("i",{className:"fas fa-plus"})}),"Add another pet"]}):Object(v.jsx)("div",{}),Object(v.jsxs)("p",{children:["Member since: ",new Date(String(t.date_joined)).toLocaleString().slice(0,10)]})]}),Object(v.jsx)("hr",{}),Object(v.jsxs)("div",{className:"borrow-info",children:[Object(v.jsx)("p",{children:"Looking for a pet to borrow "}),"borrower"===t.account_type?Object(v.jsx)("div",{className:"green",children:Object(v.jsx)("p",{children:"Yes"})}):Object(v.jsx)("div",{className:"red",children:Object(v.jsx)("p",{children:"No"})})]}),Object(v.jsx)("hr",{}),Object(v.jsxs)("div",{className:"needs",children:[Object(v.jsxs)("div",{className:"data",children:[Object(v.jsxs)("p",{children:[Object(v.jsx)("span",{className:"icon",children:Object(v.jsx)("i",{className:"fas fa-bullhorn"})})," Looking for"]}),t.activity.map((function(e){return Object(v.jsx)("div",{className:"activity",children:Object(v.jsx)("p",{children:e.name})},e.id)}))]}),Object(v.jsxs)("div",{className:"data",children:[Object(v.jsxs)("p",{children:[Object(v.jsx)("span",{className:"icon",children:Object(v.jsx)("i",{className:"fas fa-calendar-alt"})})," Available on"]}),t.schedule.map((function(e){return Object(v.jsx)("div",{className:"schedule",children:Object(v.jsx)("p",{children:e.name})},e.id)}))]})]}),Object(v.jsx)("hr",{}),Object(v.jsx)("div",{className:"bio",children:Object(v.jsx)("p",{children:t.bio})})]})]}),Object(v.jsx)("hr",{}),Object(v.jsx)(q.a,{className:"bottom",children:"owner"===t.account_type?Object(v.jsxs)(v.Fragment,{children:[Object(v.jsx)("h3",{children:"Your Pets"}),Object(v.jsx)("hr",{}),t.animals.map((function(e){return Object(v.jsx)("div",{className:"animals",style:{backgroundImage:"url(".concat(e.animal_image,")")},children:Object(v.jsx)(r.b,{to:"/animals/".concat(e.id),children:Object(v.jsx)("div",{className:"animal-name",children:Object(v.jsx)("h4",{children:e.animal_name})})})},e.id)}))]}):Object(v.jsx)("div",{className:"padding"})})]}):Object(v.jsx)("h2",{children:m?"Something has gone wrong!":"loading..."})})},ae=function(){var e=Object(c.useState)(null),a=Object(b.a)(e,2),t=a[0],n=a[1],s=Object(c.useState)(null),l=Object(b.a)(s,2),i=l[0],m=l[1],h=Object(c.useState)(!1),O=Object(b.a)(h,2),p=O[0],x=O[1];return Object(c.useEffect)((function(){(function(){var e=Object(j.a)(o.a.mark((function e(){var a,t,c,s;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,a=d()){e.next=4;break}return e.abrupt("return");case 4:return t=a.sub,e.next=7,f.a.get("api/auth/users/".concat(t,"/"),{headers:{Authorization:"Bearer ".concat(u())}});case 7:c=e.sent,s=c.data,n(s),m(s.animals),console.log("data",s),e.next=18;break;case 14:e.prev=14,e.t0=e.catch(0),console.log(e.t0),x(!0);case 18:case"end":return e.stop()}}),e,null,[[0,14]])})));return function(){return e.apply(this,arguments)}})()()}),[]),console.log("user profile",t),console.log("pet profile",i),Object(v.jsx)("div",{className:"user-profile",children:i?i.map((function(e){return Object(v.jsxs)(v.Fragment,{children:[Object(v.jsxs)("div",{className:"top",children:[Object(v.jsx)("div",{className:"profile-images",children:Object(v.jsx)("img",{src:e.animal_image,alt:e.animal_name})}),Object(v.jsxs)("div",{className:"information",children:[Object(v.jsxs)("div",{className:"info-header",children:[Object(v.jsx)("h3",{children:e.animal_name}),Object(v.jsxs)(r.b,{to:"/edit-animal/".concat(e.id),children:[Object(v.jsx)("span",{className:"icon",children:Object(v.jsx)("i",{className:"fas fa-edit"})}),"Edit"]})]}),Object(v.jsx)("hr",{}),Object(v.jsx)("div",{className:"date-joined",children:Object(v.jsxs)("p",{children:["Pet type: ",e.animal_type]})}),Object(v.jsx)("hr",{}),Object(v.jsxs)("div",{className:"needs",children:[Object(v.jsxs)("div",{className:"data",children:[Object(v.jsx)("p",{children:"Looking for"}),e.activity.map((function(e){return Object(v.jsx)("div",{className:"activity",children:Object(v.jsx)("p",{children:e.name})},e.id)}))]}),Object(v.jsxs)("div",{className:"data",children:[Object(v.jsx)("p",{children:"Available on"}),e.schedule.map((function(e){return Object(v.jsx)("div",{className:"schedule",children:Object(v.jsx)("p",{children:e.name})},e.id)}))]})]}),Object(v.jsx)("hr",{}),Object(v.jsx)("div",{className:"bio",children:Object(v.jsx)("p",{children:e.animal_bio})})]})]}),Object(v.jsxs)("div",{className:"bottom",children:[Object(v.jsx)("hr",{}),Object(v.jsx)("div",{className:"padding"})]})]})})):Object(v.jsx)("h2",{children:p?"Something has gone wrong!":"loading..."})})},te=function(){var e=Object(l.h)().id,a=Object(l.f)(),t=Object(c.useState)({animal_name:"",animal_type:"",animal_bio:"",animal_age:"",activity:[],schedule:[],animal_image:""}),n=Object(b.a)(t,2),s=n[0],r=n[1],i=Object(c.useState)({animal_name:"",animal_type:"",animal_bio:"",animal_age:"",activity:[],schedule:[],animal_image:""}),d=Object(b.a)(i,2),m=d[0],h=d[1];Object(c.useEffect)((function(){(function(){var a=Object(j.a)(o.a.mark((function a(){var t,c;return o.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,f.a.get("/api/animals/".concat(e,"/"));case 2:t=a.sent,c=t.data,r(c),console.log("data",c);case 6:case"end":return a.stop()}}),a)})));return function(){return a.apply(this,arguments)}})()()}),[e]),console.log("form data",s);var O=function(e){var a=Object(N.a)(Object(N.a)({},s),{},Object(y.a)({},e.target.name,e.target.value)),t=Object(N.a)(Object(N.a)({},m),{},Object(y.a)({},e.target.name,""));r(a),h(t)},p=function(){var t=Object(j.a)(o.a.mark((function t(c){return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return c.preventDefault(),t.prev=1,t.next=4,f.a.put("/api/animals/".concat(e,"/"),s,{headers:{Authorization:"Bearer ".concat(u())}});case 4:a.push("/pet-profile"),t.next=11;break;case 7:t.prev=7,t.t0=t.catch(1),console.log("error response",t.t0.response),h(t.t0.response.data.errors);case 11:case"end":return t.stop()}}),t,null,[[1,7]])})));return function(e){return t.apply(this,arguments)}}();console.log("errors",m);var x=function(e,a){var t=e?e.map((function(e){return e.value})):[];r(Object(N.a)(Object(N.a)({},s),{},Object(y.a)({},a,Object(L.a)(t))))};return Object(v.jsx)("div",{className:"register-animal",children:Object(v.jsxs)(C.a,{onSubmit:p,children:[Object(v.jsx)("h2",{children:"Edit pet"}),Object(v.jsxs)(C.a.Group,{className:"mb-3",controlId:"formAnimalName",children:[Object(v.jsx)(C.a.Label,{children:"What is your pet called?"}),Object(v.jsx)(C.a.Control,{type:"text",placeholder:"Rex",name:"animal_name",onChange:O,value:s.animal_name})]}),Object(v.jsxs)(C.a.Group,{className:"mb-3",controlId:"formAnimalType",children:[Object(v.jsx)(C.a.Label,{children:"How old is your pet?"}),Object(v.jsx)(C.a.Control,{type:"integer",placeholder:"0",name:"animal_age",onChange:O,value:s.animal_age})]}),Object(v.jsxs)(C.a.Group,{className:"mb-3",controlId:"formAnimalType",children:[Object(v.jsx)(C.a.Label,{children:"What type of animal is your pet?"}),Object(v.jsxs)(C.a.Select,{onChange:O,name:"animal_type",children:[Object(v.jsx)("option",{children:" - select an animal - "}),Object(v.jsx)("option",{value:"cat",children:"Cat"}),Object(v.jsx)("option",{value:"dog",children:"Dog"}),Object(v.jsx)("option",{value:"rabbit",children:"Rebbit"})]})]}),Object(v.jsxs)(C.a.Group,{className:"mb-3",controlId:"formBioName",children:[Object(v.jsx)(C.a.Label,{children:"Tell us about your pet"}),Object(v.jsx)(C.a.Control,{as:"textarea",placeholder:"Fido loves barking and chasing sticks",name:"animal_bio",onChange:O,value:s.animal_bio})]}),Object(v.jsxs)(C.a.Group,{className:"mb-3",controlId:"formActivity",children:[Object(v.jsx)(C.a.Label,{children:"What activities does your pet need?"}),Object(v.jsx)(A.a,{options:[{value:2,label:"Company"},{value:3,label:"Exercise"},{value:1,label:"Playtime"}],isMulti:!0,name:"activity",onChange:function(e){return x(e,"activity")}})]}),Object(v.jsxs)(C.a.Group,{className:"mb-3",controlId:"formSchedule",children:[Object(v.jsx)(C.a.Label,{children:"When is your pet available?"}),Object(v.jsx)(A.a,{options:[{value:1,label:"Weekday - daytimes"},{value:2,label:"Weekday - evenings"},{value:3,label:"Weekends"},{value:4,label:"Holidays or overnight stays"}],isMulti:!0,name:"schedule",onChange:function(e){return x(e,"schedule")}})]}),Object(v.jsx)(G,{value:FormData.animal_image,name:"animal_image",handleImageUrl:function(e){r(Object(N.a)(Object(N.a)({},s),{},{image:e}))}}),Object(v.jsx)(_.a,{variant:"secondary",type:"submit",children:"Submit"})]})})},ce=t(60),ne=function(){var e=Object(c.useState)(null),a=Object(b.a)(e,2),t=(a[0],a[1]),n=Object(c.useState)(!1),s=Object(b.a)(n,2),r=(s[0],s[1]),l=Object(c.useState)(null),i=Object(b.a)(l,2),d=i[0],m=i[1],O=Object(c.useState)(null),p=Object(b.a)(O,2),x=p[0],g=p[1],y=Object(c.useState)(!1),w=Object(b.a)(y,2),k=(w[0],w[1]),C=Object(c.useState)(null),S=Object(b.a)(C,2),I=S[0],L=S[1],G=Object(c.useState)(null),A=Object(b.a)(G,2);A[0],A[1];Object(c.useEffect)((function(){(function(){var e=Object(j.a)(o.a.mark((function e(){var a,c,n;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,f.a.get("api/auth/users/".concat(h(),"/"),{headers:{Authorization:"Bearer ".concat(u())}});case 3:a=e.sent,c=a.data,m(c.id),n=c.animals.map((function(e){return e.id})),t(n[0]),console.log("user id",n),e.next=15;break;case 11:e.prev=11,e.t0=e.catch(0),console.log(e.t0),r(!0);case 15:case"end":return e.stop()}}),e,null,[[0,11]])})));return function(){return e.apply(this,arguments)}})()()}),[]),Object(c.useEffect)((function(){d&&function(){var e=Object(j.a)(o.a.mark((function e(){var a,t;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,f.a.get("api/requests/",{headers:{Authorization:"Bearer ".concat(u())}});case 3:a=e.sent,t=a.data,g(t.reverse()),e.next=12;break;case 8:e.prev=8,e.t0=e.catch(0),console.log(e.t0),k(!0);case 12:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(){return e.apply(this,arguments)}}()()}),[d]),console.log("requests",x),Object(c.useEffect)((function(){x&&d&&function(){var e=x.filter((function(e){return e.animal.owner===d}));L(e)}()}),[x,d]);var q=function(){var e=Object(j.a)(o.a.mark((function e(a,t){var c,n,s;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,f.a.get("/api/requests/".concat(t));case 2:return c=e.sent,n=c.data,s=Object(N.a)(Object(N.a)({},n),{},{request_status:a}),e.prev=5,e.next=8,f.a.put("/api/requests/".concat(t,"/"),s,{headers:{Authorization:"Bearer ".concat(u())}});case 8:e.next=13;break;case 10:e.prev=10,e.t0=e.catch(5),console.log(e.t0);case 13:case"end":return e.stop()}}),e,null,[[5,10]])})));return function(a,t){return e.apply(this,arguments)}}();return Object(v.jsx)(v.Fragment,{children:Object(v.jsxs)(M.a,{className:"request-page",children:[Object(v.jsx)("h3",{children:"Your Requests"}),Object(v.jsx)(ce.a,{className:"accordion",children:Object(v.jsx)(v.Fragment,{children:I&&I.map((function(e){return Object(v.jsxs)(ce.a.Item,{eventKey:e.id,children:[Object(v.jsxs)(ce.a.Header,{className:"accordion-header",children:[Object(v.jsx)("img",{src:e.owner.profile_picture,alt:e.owner.username}),Object(v.jsxs)("div",{children:[Object(v.jsx)("h5",{children:e.owner.first_name}),Object(v.jsxs)("p",{children:["Request for: ",e.animal.animal_name]})]})]}),Object(v.jsxs)(ce.a.Body,{className:"accordion-body",children:[Object(v.jsxs)("div",{className:"content",children:[Object(v.jsx)("div",{className:"left",children:Object(v.jsx)("p",{className:"time",children:new Date(String(e.created_at)).toLocaleString().slice(0,10)})}),Object(v.jsx)("p",{children:e.message})]}),"pending"===e.request_status?Object(v.jsxs)("div",{className:"buttons",children:[Object(v.jsx)(_.a,{variant:"success",onClick:function(){return q("accepted",e.id)},children:"Accept Request"}),Object(v.jsx)(_.a,{variant:"danger",onClick:function(){return q("declined",e.id)},children:"Decline Request"})]}):Object(v.jsx)("div",{className:e.request_status,children:Object(v.jsx)("p",{children:e.request_status.toUpperCase()})})]})]},e.id)}))})})]})})},se=function(){return Object(v.jsx)("footer",{children:Object(v.jsxs)("div",{className:"icons",children:[Object(v.jsx)("a",{href:"https://github.com/simplythebex/sei-project-4/tree/master",target:"_blank",rel:"noreferrer",children:Object(v.jsx)("div",{className:"icon",children:Object(v.jsx)("i",{className:"fab fa-github"})})}),Object(v.jsx)("a",{href:"https://www.linkedin.com/in/rebecca-jones212/",target:"_blank",rel:"noreferrer",children:Object(v.jsx)("div",{className:"icon",children:Object(v.jsx)("i",{className:"fab fa-linkedin"})})}),Object(v.jsx)("a",{href:"#",target:"_blank",rel:"noreferrer",children:Object(v.jsx)("div",{className:"icon",children:Object(v.jsx)("i",{className:"fas fa-laptop"})})})]})})},re=function(){return Object(v.jsxs)(r.a,{children:[Object(v.jsx)(I,{}),Object(v.jsxs)(l.c,{children:[Object(v.jsx)(l.a,{path:"/edit-animal/:id",children:Object(v.jsx)(te,{})}),Object(v.jsx)(l.a,{path:"/borrowers/:id",children:Object(v.jsx)(Q,{})}),Object(v.jsx)(l.a,{path:"/animals/:id",children:Object(v.jsx)(J,{})}),Object(v.jsx)(l.a,{path:"/requests",children:Object(v.jsx)(ne,{})}),Object(v.jsx)(l.a,{path:"/pet-profile",children:Object(v.jsx)(ae,{})}),Object(v.jsx)(l.a,{path:"/profile",children:Object(v.jsx)(ee,{})}),Object(v.jsx)(l.a,{path:"/register-animal",children:Object(v.jsx)($,{})}),Object(v.jsx)(l.a,{path:"/registerborrower",children:Object(v.jsx)(D,{})}),Object(v.jsx)(l.a,{path:"/registerowner",children:Object(v.jsx)(T,{})}),Object(v.jsx)(l.a,{path:"/borrowers",children:Object(v.jsx)(V,{})}),Object(v.jsx)(l.a,{path:"/animals",children:Object(v.jsx)(z,{})}),Object(v.jsx)(l.a,{path:"/",children:Object(v.jsx)(g,{})})]}),Object(v.jsx)(se,{})]})};s.a.render(Object(v.jsx)(re,{}),document.getElementById("root"))},93:function(e,a,t){}},[[130,1,2]]]);
//# sourceMappingURL=main.8bee23e3.chunk.js.map